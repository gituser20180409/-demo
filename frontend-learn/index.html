<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .dialog{
            position: fixed;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.51);
            display: flex;
            align-items: center;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;

        }
        .dialog-main{
            background-color: #ffffff;
            width: 45%;
            margin: auto;
            min-height: 200px;
            position: relative;
            animation: modal-in 1s;
            height: auto;
            border-radius: 4px;
        }
        @keyframes modal-in {
            from{
                min-height: 0;
            }
            to{
                min-height: 200px;
            }
        }
        @keyframes modal-out {
            from{
                width: 100%;
                height: 100%;
            }
            to{
                width: 0;
                height: 0;
            }
        }
        .dialog-close{
            position: absolute;
            right: 0;
            top: 0;
            width: 24px;
            height: 24px;
            text-align: center;
            display: flex;
        }
        .dialog-close:hover{
            background-color: #eeeeee;
        }
        .dialog-lose-i{
            width: 100%;
            height: 100%;
            content: url("images/close_72px.png");
        }
        .header{
            position: fixed;
            width: 100%;
            height: 180px;
            background-color: #8ae38a;
            background-image: url("images/banner.png");
            background-size: 100%;
            background-repeat: no-repeat;
            top: 0;
            left: 0;
            display: flex;
            color: white;
        }
        .content{
            margin-top: 180px;
            width: 68%;
            margin-left: auto;
            margin-right: auto;
            display: flex;
            align-self: flex-start;
            background-color: #fcfcfc;
            box-shadow: 4px 7px 2px #d9d9d9;
        }
        .content-left{
            flex: 1;
        }
        .content-right{
            flex: 2;
        }
        .content-left-info{
            margin: 10px;
            background-color: #ffffff;
            width: 94%;
            box-shadow: 0 0 14px #eaeaea;
        }
        .content-left-info-title{
            text-align: left;
            background-color: #94c4b8;
            padding: 5px 10px;
            color: white;
            text-shadow: 1px 2px 2px #a3a3a3;
            background-image: linear-gradient(150deg,#4893b2,#94c4b8);
        }
        .content-right-item{
            margin: 1%;
            min-height: 40px;
            width: 98%;
            background-color: white;
            box-shadow: 0 0 4px #c0c0c0;
        }
        .name{
            padding: 10px;
            font-size: 30px;
            font-weight: bold;
            text-shadow: 5px 5px 6px #012a2f;
            font-family: 华文楷体;
            line-height: 240px;
            text-align: center;
            margin-left: 20%;
            background-image: url("images/timg.png");
            background-size: 188%;
            background-repeat: no-repeat;
            background-position: center;
        }
        .middle{
            align-self: center;
            padding: 0 14%;
        }
        .sign{
            font-family: "Tempus Sans ITC";
            font-size: 20px;
            font-weight: bold;
            background-image: -webkit-linear-gradient(left,#F44336,#fd8403,yellow);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 16px 16px 3px #607D8B;
            margin: auto;
        }
        .list-item0{
            padding: 3px 10px;
            border-bottom: 4px solid;
            border-image: linear-gradient(90deg, rgba(0,216,247,0.00) 0%, #00AFED 100%) 2 2 2 2;
            border-image: -webkit-linear-gradient(90deg, rgba(0,216,247,0.00) 0%, #00AFED 100%) 2 2 2 2;
            border-image: -moz-linear-gradient(90deg, rgba(0,216,247,0.00) 0%, #00AFED 100%) 2 2 2 2;
        }
        .classify{
            color: white;
            margin: 0;
            text-align: center;
            padding: 10px;
            background-image: linear-gradient(150deg,#4893b2,#94c4b8);
            border-bottom: 2px dashed #86de86;
        }
        .content-right-item:first-child{
            margin-top: 10px;
        }
        .date{
            align-self: flex-end;
            padding: 20px;
        }
        .date-row{
            display: flex;
            background-color: #94c4b800;
        }
        .date-col{
            flex: 1;
            width: 10px;
            height: 10px;
            font-size: 8px;
        }

    </style>
    <script>
        function createDialog(props={}){
            console.log('createDialog',props)
            const outter = document.createElement('div')
            outter.className = "dialog"
            const inner = document.createElement('div')
            inner.className = "dialog-main"
            const closeBtn = document.createElement('div')
            let closeIcon = "<i class=\'dialog-lose-i\'></i>"
            closeBtn.innerHTML = closeIcon
            closeBtn.className = "dialog-close"
            //inner.appendChild(closeBtn)
            if(props.p)
                inner.innerHTML = props.p
            outter.appendChild(inner)
            return {outter,inner,closeBtn}
        }
        const getSingle = function(fn){
            let result
            return function (prop) {
                console.log('getSingle',prop)
                result = result || fn.apply(this,prop)
                return result
            }
        }
        let app = getSingle(createDialog)
        let div_d = app({})
        function initDialog(){
            div_d.outter.style.display = 'none'
            document.body.appendChild(div_d.outter)
        }
        function open(prop) {
            div_d.inner.innerHTML = prop
            div_d.inner.appendChild(div_d.closeBtn)
            div_d.outter.style.display = 'flex'
        }
        function close(){
            div_d.outter.style.display = 'none'
        }
        div_d.closeBtn.addEventListener('click',()=>{
            close()
        })
    </script>
    <script async type="text/javascript">
        window.onload = ()=>{
            initDialog()
            document.getElementById('show').addEventListener('click',()=>{
                open(`<div>1223</div><div>1223</div>
                      <div>1223</div><div>1223</div>
                      <div>1223</div><div>1223</div>
                      <div>1223</div><div>1223</div>
                      <div>1223</div><div>1223</div>
                      <div>1223</div><div>1223</div>
                      <div>1223</div><div>1223</div>
                      <div>1223</div><div>1223</div>`)
            })
        }
    </script>
</head>
<body>
<div class="header">
    <div class="name">记忆碎片</div>
    <div class="middle">
        <div class="sign">I am a slow walker,but I never walk backwards.</div>
        <div class="sign">&nbsp;&nbsp;&nbsp;&nbsp;I am a slow walker,but I never walk backwards.</div>
    </div>

    <div id="date" class="date">

    </div>
    <script>
        class Clock{
            /**
             * @param dom
             * @param color
             */
            constructor(dom,color){
                this.container = dom
                this.color = color || 'red'
                this.init()
            }
            shadow(){
                let count = 0;
                for(let i = 0;i < 12;i++){
                    for(let j = 0;j < 5;j++){
                        let dom = document.querySelector(`.col-${count}`)
                        dom.addEventListener('mouseover',()=>{
                            if(dom.style.backgroundColor !== "rgba(255, 255, 255, 0)"){
                                dom.style.boxShadow = '0 0 3px #ff0';
                                setTimeout(()=>{
                                    dom.style.boxShadow = 'none';
                                },500)
                            }
                        })
                        count++;
                    }
                }
            }
            init(){
                if(!this.container){
                    throw new Error('dom找不着')
                }
                this.createDom()
                setTimeout(()=>{
                    this.shadow()
                },0)
                setInterval(()=>{
                    let da = new Date()
                    let hour = da.getHours().toString()
                    let minute = da.getMinutes().toString()
                    let h1 = hour[1] ? Number(hour[0]) : 0
                    let h2 = hour[1] ? Number(hour[1]) : Number(hour[0])
                    let m1 = minute[1] ? Number(minute[0]) : 0
                    let m2 = minute[1] ? Number(minute[1]) : Number(minute[0])
                    this.flash(da.getSeconds())
                    this.setTime(h1,0,2)
                    this.setTime(h2,3,5)
                    this.setTime(m1,6,8)
                    this.setTime(m2,9,11)
                    this.light()
                },1000)
            }
            light(){
                let i = 0;
                let timmer = setInterval(()=>{
                    if (i >= 12) {
                        clearInterval(timmer)
                        return
                    }
                    for (let j = 0; j < 5; j++) {
                        let dom = document.querySelector(`.col-${j * 12 + i}`)
                        if (dom.style.backgroundColor !== "rgba(255, 255, 255, 0)") {
                            dom.style.boxShadow = '0 0 3px #ff0';
                            setTimeout(() => {
                                dom.style.boxShadow = 'none';
                            }, 150)
                        }
                    }
                    i++;
                },80)
                /*for(let i = 0;i < 12;i++){
                    for(let j = 0;j < 5;j++){
                        let dom = document.querySelector(`.col-${j*12+i}`)
                        if(dom.style.backgroundColor !== "rgba(255, 255, 255, 0)"){
                            dom.style.boxShadow = '0 0 3px #ff0';
                            setTimeout(()=>{
                                dom.style.boxShadow = 'none';
                            },250)
                        }
                    }
                }*/
            }
            createDom(){//创建容器
                let count = 0
                for(let i = 0;i < 5;i++){
                    let div = document.createElement('div')
                    div.className = `date-row`
                    for(let j = 0;j < 15;j++){
                        let d = document.createElement('div')
                        d.className = `date-col col-${count}`
                        if(j == 3 || j == 7 || j == 11){
                            d.className = `date-col col-blank`
                        }else{
                            count++
                        }
                        div.appendChild(d)
                    }
                    this.container.appendChild(div)
                }
            }
            flash(num) {//提示秒
                let prenum = num-1
                if(num == 0){
                    prenum = 59
                }
                let preparedom = document.querySelector(`.col-${prenum}`)
                preparedom.innerHTML = ''
                let dom = document.querySelector(`.col-${num}`)
                dom.innerHTML = num.toString().length > 1 ? num : '0'+num
            }
            /**
             * 显示时间，根据传入的不同数字以及位移改变dom的背景色
             * @param num
             * @param x1 位移值
             * @param x2 x1+2 = x2
             * 例如，传入的是0，x1坐标为0，则在0-2这块区域内绘制数字
             */
            setTime(num,y1,y2){
                switch (num){
                    case 0:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(i !== 0 && i !== 4){
                                    if(j !== (y1+y2)/2){
                                        dom.style.backgroundColor = this.color
                                    }
                                }else{
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    case 1:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(j === (y1+y2)/2){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 1 && j === y1){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 4){
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    case 2:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 1 && j === y2){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 3 && j === y1){
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    case 3:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i%2 === 1 && j === y2){
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    case 4:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(i<2 && j !== (y1+y2)/2){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 2){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i>2 && j === y2){
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    case 5:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 3 && j === y2){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 1 && j === y1){
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    case 6:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 1 && j === y1){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 3 && j !== (y1+y2)/2){
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    case 7:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(i === 0){
                                    dom.style.backgroundColor = this.color
                                }else if(j === y2){
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    case 8:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = this.color
                                }else if(j !== (y1+y2)/2){
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    case 9:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#fff0'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 1 && j !== (y1+y2)/2){
                                    dom.style.backgroundColor = this.color
                                }
                                if(i === 3 && j === y2){
                                    dom.style.backgroundColor = this.color
                                }
                            }
                        }
                        break
                    default:
                        break
                }
            }
        }
        new Clock(document.getElementById('date'),'#69a4aa')
        let createTime = (function (dom){
            let date = dom
            let count = 0
            for(let i = 0;i < 5;i++){
                let div = document.createElement('div')
                div.className = `date-row`
                for(let j = 0;j < 15;j++){
                    let d = document.createElement('div')
                    d.className = `date-col col-${count}`
                    if(j == 3 || j == 7 || j == 11){
                        d.className = `date-col col-blank`
                    }else{
                        count++
                    }
                    div.appendChild(d)
                }
                date.appendChild(div)
            }
            function flash(num) {
                let prenum = num-1
                if(num == 0){
                    prenum = 59
                }
                let preparedom = document.querySelector(`.col-${prenum}`)
                //preparedom.style.backgroundColor = '#94c4b8'
                preparedom.innerHTML = ''
                let dom = document.querySelector(`.col-${num}`)
                //dom.style.backgroundColor = '#ff6'

                dom.innerHTML = num.toString().length > 1 ? num : '0'+num
            }
            setInterval(()=>{
                let da = new Date()
                let hour = da.getHours().toString()
                let minute = da.getMinutes().toString()
                let h1 = hour[1] ? Number(hour[0]) : 0
                let h2 = hour[1] ? Number(hour[1]) : Number(hour[0])
                let m1 = minute[1] ? Number(minute[0]) : 0
                let m2 = minute[1] ? Number(minute[1]) : Number(minute[0])
                flash(da.getSeconds())
                setTime(h1,0,2)
                setTime(h2,3,5)
                setTime(m1,6,8)
                setTime(m2,9,11)
            },1000)
            function setTime(num,y1,y2){
                switch (num){
                    case 0:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(i !== 0 && i !== 4){
                                    if(j !== (y1+y2)/2){
                                        dom.style.backgroundColor = '#3af'
                                    }
                                }else{
                                    dom.style.backgroundColor = '#3af'
                                }
                            }
                        }
                        break
                    case 1:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(j === (y1+y2)/2){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i === 1 && j === y1){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i === 4){
                                    dom.style.backgroundColor = '#3af'
                                }
                            }
                        }
                        break
                    case 2:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i === 1 && j === y2){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i === 3 && j === y1){
                                    dom.style.backgroundColor = '#3af'
                                }
                            }
                        }
                        break
                    case 3:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i%2 === 1 && j === y2){
                                    dom.style.backgroundColor = '#3af'
                                }
                            }
                        }
                        break
                    case 4:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(i<2 && j !== (y1+y2)/2){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i === 2){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i>2 && j === y2){
                                    dom.style.backgroundColor = '#3af'
                                }
                            }
                        }
                        break
                    case 5:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i === 3 && j === y2){
                                    dom.style.backgroundColor = '#3af'
                                    break
                                }
                                if(i === 1 && j === y1){
                                    dom.style.backgroundColor = '#3af'
                                    break
                                }
                            }
                        }
                        break
                    case 6:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i === 1 && j === y1){
                                    dom.style.backgroundColor = '#3af'
                                    break
                                }
                                if(i === 3 && j !== (y1+y2)/2){
                                    dom.style.backgroundColor = '#3af'
                                }
                            }
                        }
                        break
                    case 7:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(i === 0){
                                    dom.style.backgroundColor = '#3af'
                                }else if(j === y2){
                                    dom.style.backgroundColor = '#3af'
                                    break
                                }
                            }
                        }
                        break
                    case 8:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = '#3af'
                                }else if(j !== (y1+y2)/2){
                                    dom.style.backgroundColor = '#3af'
                                }
                            }
                        }
                        break
                    case 9:
                        for(let i = 0;i < 5;i++){
                            for(let j = y1; j <= y2;j++ ){
                                let num = i*10+j+i*2
                                let dom = document.querySelector(`.col-${num}`)
                                dom.style.backgroundColor = '#94c4b8'
                                if(i%2 === 0){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i === 1 && j !== (y1+y2)/2){
                                    dom.style.backgroundColor = '#3af'
                                }
                                if(i === 3 && j === y2){
                                    dom.style.backgroundColor = '#3af'
                                    break
                                }
                            }
                        }
                        break
                    default:
                        break
                }
            }
        })
    </script>
</div>
<div class="content">
    <div class="content-left">
        <div class="content-left-info">
            <h3 class="classify">分类</h3>
            <div class="content-left-info-title">个人信息</div>
            <div class="list-item0">
                我是一个幸运小猪猪
            </div>
            <div class="list-item0">
                我是一个幸运小猪猪
            </div>
            <div class="list-item0">
                我是一个幸运小猪猪
            </div>
            <div class="content-left-info-title">杂文</div>
            <div class="list-item0">
                我是一个幸运小猪猪
            </div>
            <div class="list-item0">
                我是一个幸运小猪猪
            </div>
            <div class="list-item0">
                我是一个幸运小猪猪
            </div>
            <div class="content-left-info-title">杂文</div>
            <div class="list-item0">
                我是一个幸运小猪猪
            </div>
            <div class="list-item0">
                我是一个幸运小猪猪
            </div>
            <div class="list-item0">
                我是一个幸运小猪猪
            </div>
        </div>
        <button id="show">弹出来</button>
    </div>
    <div class="content-right">
        <div class="content-right-item"></div>
        <div class="content-right-item"></div>
        <div class="content-right-item"></div>
        <div class="content-right-item"></div>
        <div class="content-right-item"></div>
        <div class="content-right-item"></div>
    </div>

</div>

</body>
</html>
